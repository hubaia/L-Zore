# å‡¶ç¥ç¥ç…ç”Ÿå‘½å…ƒç´ ç•™åœºæœºåˆ¶å®ç°æ€»ç»“

## ğŸ¯ **é—®é¢˜èƒŒæ™¯**

åŸæœ¬çš„é—®é¢˜ï¼š**å‡¶ç¥ç¥ç…åœ¨ç”Ÿå‘½å…ƒç´ æœªæ¸…é›¶æ—¶ä¾æ—§ä¼šç•™åœ¨åœºä¸Š**ï¼Œç¼ºå°‘åŸºäºç”Ÿå‘½å…ƒç´ çš„ç§»é™¤æœºåˆ¶ã€‚

## ğŸ”§ **è§£å†³æ–¹æ¡ˆ**

### **1. æ ¸å¿ƒè®¾è®¡ç†å¿µ**

- **åŒé‡ç§»é™¤æœºåˆ¶**ï¼šæ—¢æœ‰ä¼ ç»Ÿçš„"ä¸­å’Œ"æœºåˆ¶ï¼Œä¹Ÿæœ‰æ–°çš„"ç”Ÿå‘½å…ƒç´ è€—å°½"æœºåˆ¶
- **å‡¶ç¥ç‰¹æ®Šæ€§**ï¼šä½“ç°å‡¶ç¥çš„é¡½å›ºæ€§ï¼Œå³ä½¿ç”Ÿå‘½å…ƒç´ æ¸…é›¶ä¹Ÿæœ‰æ¦‚ç‡ç•™åœº
- **æ¸è¿›å¼ä¼¤å®³**ï¼šæ”»å‡»ç›´æ¥å‡å°‘å¡ç‰Œç”Ÿå‘½å…ƒç´ ï¼Œè€Œä¸æ˜¯ç«‹å³ä¸­å’Œ

### **2. æŠ€æœ¯å®ç°æ¶æ„**

#### **A. LifeElementManageræ‰©å±•**
ä½ç½®ï¼š`src/managers/LifeElementManager.ts`

**æ–°å¢æ ¸å¿ƒæ–¹æ³•**ï¼š
```typescript
// 1. ç”Ÿå‘½å…ƒç´ æŸè€—æœºåˆ¶
damageLifeElements(cardData, damage) â†’ {actualDamage, isDestroyed, shouldRemove}

// 2. ç”Ÿå‘½å…ƒç´ è€—å°½æ£€æŸ¥
checkLifeElementDepletion(placedCards, callbacks) â†’ removedCards[]

// 3. ç‰¹æ•ˆç³»ç»Ÿ
createDepletionEffect() // ç”Ÿå‘½å…ƒç´ è€—å°½ç‰¹æ•ˆ
createInauspiciousSurvivalEffect() // å‡¶ç¥ç•™åœºç‰¹æ•ˆ
```

#### **B. ReactEventManageræ•´åˆ**
ä½ç½®ï¼š`src/managers/ReactEventManager.ts`

**ä¼¤å®³é€»è¾‘æ›´æ–°**ï¼š
```typescript
// æ—§æœºåˆ¶ï¼šç›´æ¥ä¸­å’Œ
card.setData('neutralized', true) â†’ moveToDiscardPile()

// æ–°æœºåˆ¶ï¼šç”Ÿå‘½å…ƒç´ æŸè€—
damageLifeElements() â†’ åˆ¤æ–­shouldRemove â†’ é€‰æ‹©æ€§ç§»é™¤
```

#### **C. ä¸»åœºæ™¯é›†æˆ**
ä½ç½®ï¼š`src/scenes/LZoreGameScene.refactored.ts`

**å®šæœŸæ£€æŸ¥æœºåˆ¶**ï¼š
```typescript
generateLifeElementsPerTurn() {
    // ç”Ÿæˆç”Ÿå‘½å…ƒç´ 
    lifeElementManager.generateLifeElementsPerTurn()
    
    // æ£€æŸ¥ç”Ÿå‘½å…ƒç´ è€—å°½
    lifeElementManager.checkLifeElementDepletion()
}
```

## ğŸ® **æ¸¸æˆæœºåˆ¶è¯¦è§£**

### **3. å‡¶ç¥ç‰¹æ®Šç•™åœºè§„åˆ™**

#### **ç¬¬ä¸€å±‚ä¿æŠ¤ï¼šä¼¤å®³æ—¶ç•™åœº**
```typescript
if (cardData.type === 'inauspicious' && isDestroyed) {
    const survivalChance = Math.random();
    if (survivalChance < 0.3) { // 30%æ¦‚ç‡
        shouldRemove = false;
        cardData.currentLifeElements = 1; // ä¿ç•™1ç‚¹
        // æ˜¾ç¤ºï¼š"ğŸ’€ å‡¶ç¥å±•ç°é¡½æ€§ï¼å³ä½¿é‡åˆ›ä¹Ÿæ‹’ç»ç¦»åœºï¼"
    }
}
```

#### **ç¬¬äºŒå±‚ä¿æŠ¤ï¼šå®šæœŸæ£€æŸ¥æ—¶ç•™åœº**
```typescript
if (cardData.type === 'inauspicious') {
    const survivalChance = Math.random();
    if (survivalChance < 0.15) { // 15%æ¦‚ç‡ç´§æ€¥ç•™åœº
        cardData.currentLifeElements = 1;
        createInauspiciousSurvivalEffect(cardContainer);
        // æ˜¾ç¤ºï¼š"ğŸ‘¹ å‡¶æ€§éš¾é™¤ï¼å¼ºè¡Œç•™åœ¨åœºä¸Šï¼"
    }
}
```

### **4. è§†è§‰æ•ˆæœç³»ç»Ÿ**

#### **ç”Ÿå‘½å…ƒç´ è€—å°½ç‰¹æ•ˆ**
- **æ¶ˆæ•£ç²’å­**ï¼šç°è‰²ç²’å­æ•ˆæœï¼Œä½“ç°ç¥ç…ä¹‹åŠ›æ¶ˆæ•£
- **å¡ç‰Œæ¸å˜**ï¼šé€æ˜åº¦é™ä½åˆ°0.3ï¼Œå°ºå¯¸ç¼©å°åˆ°0.9
- **æ–‡å­—æç¤º**ï¼š"ğŸ’ ç”Ÿå‘½å…ƒç´ è€—å°½ï¼Œç¥ç…ä¹‹åŠ›æ¶ˆæ•£ï¼"

#### **å‡¶ç¥ç•™åœºç‰¹æ•ˆ**
- **çº¢è‰²é—ªå…‰**ï¼šè¡€è‰²é—ªçƒæ•ˆæœï¼Œä½“ç°å‡¶ç¥çš„æŒ£æ‰
- **æš—è‰²ç²’å­**ï¼šæ·±çº¢è‰²ç²’å­ï¼Œè¥é€ å‡¶ç…æ°”æ¯
- **ç‰¹æ®ŠéŸ³æ•ˆ**ï¼šï¼ˆå¾…å®ç°ï¼‰ä½æ²‰çš„å’†å“®å£°

### **5. æ¶ˆæ¯ç³»ç»Ÿ**

#### **ä¼¤å®³åé¦ˆæ¶ˆæ¯**
```typescript
// ä¼¤å®³æˆåŠŸ
"ç¾Šåˆƒ ä»¥3ç‚å…‹å…ƒç´ æ”»å‡»äº† æ–‡æ˜Œè´µäººï¼å‰©ä½™2æš"

// ç”Ÿå‘½å…ƒç´ è€—å°½
"ç¾Šåˆƒ ä»¥2ç‚å…‹å…ƒç´ æ”»å‡»äº† æ–‡æ˜Œè´µäººï¼ç”Ÿå‘½å…ƒç´ è€—å°½ï¼"

// å‡¶ç¥ç•™åœº
"ğŸ’€ ç¾Šåˆƒ å±•ç°å‡¶ç¥é¡½æ€§ï¼å³ä½¿é‡åˆ›ä¹Ÿæ‹’ç»ç¦»åœºï¼"
```

#### **å®šæœŸæ£€æŸ¥æ¶ˆæ¯**
```typescript
// æ™®é€šç¥ç…è€—å°½
"ğŸ’€ æ–‡æ˜Œè´µäºº ç”Ÿå‘½å…ƒç´ å®Œå…¨è€—å°½ï¼Œå³å°†ç¦»åœºï¼"

// å‡¶ç¥å¼ºè¡Œç•™åœº
"ğŸ‘¹ ç¾Šåˆƒ å‡¶æ€§éš¾é™¤ï¼å¼ºè¡Œç•™åœ¨åœºä¸Šï¼"
```

## ğŸ“Š **å¹³è¡¡æ€§è®¾è®¡**

### **6. æ¦‚ç‡å¹³è¡¡**

| è§¦å‘æ—¶æœº | å‡¶ç¥ç•™åœºæ¦‚ç‡ | æ•ˆæœ |
|---------|-------------|------|
| å—åˆ°ä¼¤å®³æ—¶ | 30% | ä¿ç•™1ç‚¹ç”Ÿå‘½å…ƒç´  |
| å®šæœŸæ£€æŸ¥æ—¶ | 15% | ç´§æ€¥ç•™åœºæœºåˆ¶ |
| æ€»ä½“æœŸæœ› | ~40% | å‡¶ç¥æ•´ä½“å­˜æ´»ç‡æå‡ |

### **7. ç­–ç•¥å½±å“**

#### **å¯¹ç©å®¶ç­–ç•¥çš„å½±å“**
- **å¤šæ¬¡æ”»å‡»**ï¼šéœ€è¦å¤šæ¬¡æ”»å‡»æ‰èƒ½ç¡®ä¿ç§»é™¤å‡¶ç¥
- **èµ„æºåˆ†é…**ï¼šéœ€è¦ä¸ºå¯¹ä»˜é¡½å›ºå‡¶ç¥é¢„ç•™æ›´å¤šèµ„æº
- **é£é™©è¯„ä¼°**ï¼šå‡¶ç¥çš„ä¸ç¡®å®šæ€§å¢åŠ äº†æˆ˜æœ¯å¤æ‚åº¦

#### **å¯¹æ¸¸æˆèŠ‚å¥çš„å½±å“**
- **å»¶é•¿æˆ˜æ–—**ï¼šå‡¶ç¥ç•™åœºå»¶é•¿äº†æˆ˜æ–—æ—¶é—´
- **å¢åŠ å˜æ•°**ï¼šå‡¶ç¥çš„éšæœºç•™åœºä¸ºæ¸¸æˆå¢åŠ äº†ä¸ç¡®å®šæ€§
- **ç­–ç•¥æ·±åº¦**ï¼šç©å®¶éœ€è¦åˆ¶å®šæ›´å¤æ‚çš„ç§»é™¤ç­–ç•¥

## ğŸ”® **æ–‡åŒ–å†…æ¶µä½“ç°**

### **8. ä¼ ç»Ÿå‘½ç†å­¦ä½“ç°**

#### **å‡¶ç¥ç‰¹æ€§**
- **é¡½å›ºæ€§**ï¼šå‡¶ç¥å¤©æ€§éš¾æ”¹ï¼Œä¸æ˜“è¢«åŒ–è§£
- **æŒç»­æ€§**ï¼šå‡¶ç…çš„å½±å“å¾€å¾€æŒç»­å­˜åœ¨
- **åå¤æ€§**ï¼šå³ä½¿æš‚æ—¶å‹åˆ¶ï¼Œä¹Ÿå¯èƒ½å·åœŸé‡æ¥

#### **ä¸ä¼ ç»Ÿæ–‡åŒ–çš„å¥‘åˆ**
```
ä¼ ç»Ÿè§‚å¿µï¼šå‡¶ç¥å‡¶ç…å¦‚é™„éª¨ä¹‹ç–½ï¼Œéš¾ä»¥æ ¹é™¤
æ¸¸æˆä½“ç°ï¼šç”Ÿå‘½å…ƒç´ æ¸…é›¶åä»æœ‰æ¦‚ç‡ç•™åœº

ä¼ ç»Ÿè§‚å¿µï¼šåŒ–è§£å‡¶ç…éœ€è¦æŒç»­åŠªåŠ›
æ¸¸æˆä½“ç°ï¼šéœ€è¦å¤šæ¬¡æ”»å‡»æ‰èƒ½ç¡®ä¿ç§»é™¤

ä¼ ç»Ÿè§‚å¿µï¼šå‡¶ç…å…·æœ‰å¼ºå¤§çš„ç”Ÿå‘½åŠ›
æ¸¸æˆä½“ç°ï¼šç‹¬ç‰¹çš„åŒå±‚ä¿æŠ¤æœºåˆ¶
```

## ğŸš€ **æ‰©å±•å¯èƒ½æ€§**

### **9. æœªæ¥åŠŸèƒ½æ‰©å±•**

#### **A. æ›´å¤šå‡¶ç¥ç‰¹æ€§**
- **ç¾Šåˆƒç‰¹æ®Š**ï¼šå—åˆ°ä¼¤å®³æ—¶åå‡»
- **åŠ«ç…ç‰¹æ€§**ï¼šæ­»äº¡æ—¶ç ´åå¯¹æ‰‹èµ„æº
- **äº”é¬¼æœºåˆ¶**ï¼šç•™åœºæ—¶æŒç»­å‰Šå¼±å¯¹æ‰‹

#### **B. é“å…·åŒ–è§£ç³»ç»Ÿ**
- **åŒ–è§£ç¬¦å’’**ï¼š100%ç§»é™¤å‡¶ç¥çš„ç‰¹æ®Šé“å…·
- **é•‡ç…æ³•å™¨**ï¼šé™ä½å‡¶ç¥ç•™åœºæ¦‚ç‡
- **è¶…åº¦ä»ªå¼**ï¼šæ‰¹é‡æ¸…ç†å‡¶ç¥çš„ä»ªå¼

#### **C. è¿›é˜¶æœºåˆ¶**
- **å‡¶ç¥å‡çº§**ï¼šç•™åœºæ¬¡æ•°è¶Šå¤šï¼Œå¨åŠ›è¶Šå¼º
- **å‡¶ç¥è”åˆ**ï¼šå¤šä¸ªå‡¶ç¥åŒæ—¶ç•™åœºæ—¶äº§ç”Ÿè”åŠ¨æ•ˆæœ
- **å‡¶ç¥è§‰é†’**ï¼šåœ¨ç‰¹å®šæ¡ä»¶ä¸‹è§‰é†’æ›´å¼ºå¤§çš„èƒ½åŠ›

## ğŸ“ˆ **å®ç°ä»·å€¼**

### **10. æŠ€æœ¯ä»·å€¼**
- **æ¨¡å—åŒ–è®¾è®¡**ï¼šæ¸…æ™°çš„èŒè´£åˆ†ç¦»ï¼Œæ˜“äºç»´æŠ¤
- **å¯æ‰©å±•æ¶æ„**ï¼šä¸ºæœªæ¥åŠŸèƒ½æ‰©å±•å¥ å®šäº†åŸºç¡€
- **æ€§èƒ½ä¼˜åŒ–**ï¼šé¿å…è¿‡åº¦é¢‘ç¹çš„æ£€æŸ¥ï¼Œå¹³è¡¡æ€§èƒ½ä¸ä½“éªŒ

### **11. æ¸¸æˆä»·å€¼**
- **ç­–ç•¥æ·±åº¦**ï¼šå¢åŠ äº†æ¸¸æˆçš„ç­–ç•¥å¤æ‚åº¦
- **æ–‡åŒ–ä¼ æ‰¿**ï¼šä½“ç°äº†ä¼ ç»Ÿç¥ç…æ–‡åŒ–çš„æ·±å±‚å†…æ¶µ
- **ç”¨æˆ·ä½“éªŒ**ï¼šæä¾›äº†æ›´ä¸°å¯Œçš„æ¸¸æˆä½“éªŒ

### **12. æ•™è‚²ä»·å€¼**
- **ä¼ ç»Ÿæ–‡åŒ–**ï¼šè®©ç©å®¶äº†è§£ç¥ç…çš„æ–‡åŒ–èƒŒæ™¯
- **å“²å­¦æ€è€ƒ**ï¼šä½“ç°äº†"å–„æ¶ç›¸å…‹"çš„å“²å­¦æ€æƒ³
- **ç­–ç•¥æ€ç»´**ï¼šåŸ¹å…»ç©å®¶çš„ç­–ç•¥è§„åˆ’èƒ½åŠ›

---

## ğŸ’¡ **æ€»ç»“**

è¿™ä¸ªå‡¶ç¥ç¥ç…ç”Ÿå‘½å…ƒç´ ç•™åœºæœºåˆ¶çš„å®ç°ï¼Œä¸ä»…è§£å†³äº†æŠ€æœ¯é—®é¢˜ï¼Œæ›´é‡è¦çš„æ˜¯ï¼š

1. **æ–‡åŒ–å¥‘åˆ**ï¼šå®Œç¾ä½“ç°äº†ä¼ ç»Ÿå‘½ç†å­¦ä¸­å‡¶ç¥çš„ç‰¹æ€§
2. **æŠ€æœ¯ä¼˜é›…**ï¼šé‡‡ç”¨äº†æ¨¡å—åŒ–ã€å¯æ‰©å±•çš„è®¾è®¡æ¶æ„  
3. **æ¸¸æˆå¹³è¡¡**ï¼šåœ¨å¢åŠ ç­–ç•¥æ·±åº¦çš„åŒæ—¶ä¿æŒäº†æ¸¸æˆå¹³è¡¡
4. **ä½“éªŒæå‡**ï¼šä¸ºç©å®¶æä¾›äº†æ›´ä¸°å¯Œã€æ›´æœ‰æŒ‘æˆ˜æ€§çš„æ¸¸æˆä½“éªŒ

ç°åœ¨ï¼Œå‡¶ç¥ç¥ç…çœŸæ­£æ‹¥æœ‰äº†ç¬¦åˆå…¶æ–‡åŒ–å†…æ¶µçš„å¼ºå¤§ç”Ÿå‘½åŠ›ï¼ğŸ”¥ 