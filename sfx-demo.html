<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>L-Zore éŸ³æ•ˆç³»ç»Ÿæ¼”ç¤º</title>
    <style>
        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            color: #ffffff;
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        h1 {
            text-align: center;
            color: #00ffaa;
            text-shadow: 0 0 10px rgba(0, 255, 170, 0.5);
            margin-bottom: 30px;
            font-size: 2.5em;
        }
        
        .section {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            border: 1px solid rgba(0, 255, 170, 0.3);
        }
        
        .section h2 {
            color: #88ffff;
            border-bottom: 2px solid rgba(136, 255, 255, 0.3);
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        
        .buttons-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .sfx-button {
            background: linear-gradient(45deg, #2c5aa0, #1e3a8a);
            border: none;
            border-radius: 10px;
            color: white;
            padding: 15px 20px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .sfx-button:hover {
            background: linear-gradient(45deg, #3d6bb0, #2e4a9a);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 255, 170, 0.3);
        }
        
        .sfx-button:active {
            transform: translateY(0);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
        }
        
        .status {
            background: rgba(0, 0, 0, 0.5);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .status.success {
            border-left: 4px solid #00ff88;
        }
        
        .status.error {
            border-left: 4px solid #ff4444;
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        
        .control-button {
            background: linear-gradient(45deg, #00ff88, #00cc66);
            border: none;
            border-radius: 25px;
            color: #1a1a2e;
            padding: 12px 25px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .control-button:hover {
            background: linear-gradient(45deg, #00cc66, #00aa44);
            transform: scale(1.05);
        }
        
        .volume-control {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 10px 0;
        }
        
        .volume-slider {
            width: 200px;
            height: 6px;
            border-radius: 3px;
            background: rgba(255, 255, 255, 0.2);
            appearance: none;
            outline: none;
        }
        
        .volume-slider::-webkit-slider-thumb {
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #00ffaa;
            cursor: pointer;
        }
        
        .log {
            background: rgba(0, 0, 0, 0.8);
            border-radius: 10px;
            padding: 15px;
            max-height: 200px;
            overflow-y: auto;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            margin-top: 20px;
            border: 1px solid rgba(0, 255, 170, 0.3);
        }
        
        .log-entry {
            margin-bottom: 5px;
            padding: 5px;
            border-radius: 3px;
        }
        
        .log-entry.info { background: rgba(0, 255, 170, 0.1); }
        .log-entry.success { background: rgba(0, 255, 136, 0.1); }
        .log-entry.error { background: rgba(255, 68, 68, 0.1); }
        .log-entry.warning { background: rgba(255, 204, 0, 0.1); }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”Š L-Zore éŸ³æ•ˆç³»ç»Ÿæ¼”ç¤º</h1>
        
        <div class="status" id="status">
            <strong>çŠ¶æ€:</strong> æ­£åœ¨åˆå§‹åŒ–éŸ³æ•ˆç³»ç»Ÿ...
        </div>
        
        <div class="controls">
            <button class="control-button" onclick="initSFXSystem()">ğŸµ åˆå§‹åŒ–éŸ³æ•ˆç³»ç»Ÿ</button>
            <button class="control-button" onclick="toggleSFX()">ğŸ”‡ åˆ‡æ¢éŸ³æ•ˆå¼€å…³</button>
            <button class="control-button" onclick="testRandomSFX()">ğŸ² éšæœºæµ‹è¯•éŸ³æ•ˆ</button>
            <button class="control-button" onclick="clearLog()">ğŸ—‘ï¸ æ¸…ç©ºæ—¥å¿—</button>
        </div>
        
        <div class="volume-control">
            <span>ğŸ”Š éŸ³æ•ˆéŸ³é‡:</span>
            <input type="range" class="volume-slider" id="volumeSlider" min="0" max="100" value="80" onchange="setVolume(this.value)">
            <span id="volumeLabel">80%</span>
        </div>
        
        <div class="section">
            <h2>ğŸƒ å¡ç‰ŒéŸ³æ•ˆ</h2>
            <div class="buttons-grid">
                <button class="sfx-button" onclick="playSFX('card_draw')">ğŸ´ æŠ½å¡éŸ³æ•ˆ</button>
                <button class="sfx-button" onclick="playSFX('card_place')">ğŸ“ æ”¾ç½®å¡ç‰Œ</button>
                <button class="sfx-button" onclick="playSFX('card_hover')">ğŸ‘† å¡ç‰Œæ‚¬åœ</button>
                <button class="sfx-button" onclick="playSFX('card_select')">âœ… é€‰æ‹©å¡ç‰Œ</button>
                <button class="sfx-button" onclick="playSFX('card_flip')">ğŸ”„ ç¿»è½¬å¡ç‰Œ</button>
                <button class="sfx-button" onclick="playSFX('card_shuffle')">ğŸ”€ æ´—ç‰ŒéŸ³æ•ˆ</button>
                <button class="sfx-button" onclick="playSFX('card_activate')">âš¡ æ¿€æ´»å¡ç‰Œ</button>
            </div>
        </div>
        
        <div class="section">
            <h2>ğŸ® UIéŸ³æ•ˆ</h2>
            <div class="buttons-grid">
                <button class="sfx-button" onclick="playSFX('ui_button_click')">ğŸ–±ï¸ æŒ‰é’®ç‚¹å‡»</button>
                <button class="sfx-button" onclick="playSFX('ui_button_hover')">ğŸ‘† æŒ‰é’®æ‚¬åœ</button>
                <button class="sfx-button" onclick="playSFX('ui_confirm')">âœ… ç¡®è®¤æ“ä½œ</button>
                <button class="sfx-button" onclick="playSFX('ui_cancel')">âŒ å–æ¶ˆæ“ä½œ</button>
                <button class="sfx-button" onclick="playSFX('ui_error')">âš ï¸ é”™è¯¯æç¤º</button>
                <button class="sfx-button" onclick="playSFX('ui_success')">ğŸ‰ æˆåŠŸæç¤º</button>
            </div>
        </div>
        
        <div class="section">
            <h2>âš”ï¸ æˆ˜æ–—éŸ³æ•ˆ</h2>
            <div class="buttons-grid">
                <button class="sfx-button" onclick="playSFX('battle_attack')">ğŸ’¥ æ”»å‡»éŸ³æ•ˆ</button>
                <button class="sfx-button" onclick="playSFX('battle_damage')">ğŸ’” ä¼¤å®³éŸ³æ•ˆ</button>
                <button class="sfx-button" onclick="playSFX('battle_neutralize')">âš–ï¸ ä¸­å’ŒéŸ³æ•ˆ</button>
                <button class="sfx-button" onclick="playSFX('battle_victory')">ğŸ† èƒœåˆ©éŸ³æ•ˆ</button>
                <button class="sfx-button" onclick="playSFX('battle_defeat')">ğŸ’€ å¤±è´¥éŸ³æ•ˆ</button>
            </div>
        </div>
        
        <div class="section">
            <h2>âš¡ ç¥ç…éŸ³æ•ˆ</h2>
            <div class="buttons-grid">
                <button class="sfx-button" onclick="playSFX('shensha_activate')">ğŸŒŸ ç¥ç…æ¿€æ´»</button>
                <button class="sfx-button" onclick="playSFX('shensha_auspicious')">ğŸ˜‡ å‰ç¥éŸ³æ•ˆ</button>
                <button class="sfx-button" onclick="playSFX('shensha_inauspicious')">ğŸ‘¹ å‡¶ç¥éŸ³æ•ˆ</button>
                <button class="sfx-button" onclick="playSFX('shensha_special')">ğŸ­ ç‰¹æ®Šç¥ç…</button>
            </div>
        </div>
        
        <div class="section">
            <h2>ğŸ”„ ç³»ç»ŸéŸ³æ•ˆ</h2>
            <div class="buttons-grid">
                <button class="sfx-button" onclick="playSFX('system_turn_start')">â–¶ï¸ å›åˆå¼€å§‹</button>
                <button class="sfx-button" onclick="playSFX('system_turn_end')">â¹ï¸ å›åˆç»“æŸ</button>
                <button class="sfx-button" onclick="playSFX('system_game_start')">ğŸ® æ¸¸æˆå¼€å§‹</button>
                <button class="sfx-button" onclick="playSFX('system_game_end')">ğŸ æ¸¸æˆç»“æŸ</button>
            </div>
        </div>
        
        <div class="section">
            <h2>ğŸ² ç»„åˆæµ‹è¯•</h2>
            <div class="buttons-grid">
                <button class="sfx-button" onclick="testCardSequence()">ğŸ´ å¡ç‰Œåºåˆ—æµ‹è¯•</button>
                <button class="sfx-button" onclick="testBattleSequence()">âš”ï¸ æˆ˜æ–—åºåˆ—æµ‹è¯•</button>
                <button class="sfx-button" onclick="testUISequence()">ğŸ® UIåºåˆ—æµ‹è¯•</button>
                <button class="sfx-button" onclick="testShenshaSequence()">âš¡ ç¥ç…åºåˆ—æµ‹è¯•</button>
            </div>
        </div>
        
        <div class="log" id="logContainer">
            <div class="log-entry info">ğŸ”Š éŸ³æ•ˆç³»ç»Ÿæ¼”ç¤ºé¡µé¢å·²åŠ è½½ï¼Œç‚¹å‡»"åˆå§‹åŒ–éŸ³æ•ˆç³»ç»Ÿ"å¼€å§‹æµ‹è¯•</div>
        </div>
    </div>

    <script>
        // æ¨¡æ‹ŸAudioManagerç±»çš„ç®€åŒ–ç‰ˆæœ¬
        class SimpleSFXManager {
            constructor() {
                this.audioContext = null;
                this.sfxBuffers = new Map();
                this.sfxEnabled = true;
                this.sfxVolume = 0.8;
            }
            
            async init() {
                try {
                    this.audioContext = new (window.AudioContext || window.webkitAudioContext)();
                    await this.generateBasicSFX();
                    this.log('âœ… éŸ³æ•ˆç³»ç»Ÿåˆå§‹åŒ–æˆåŠŸ', 'success');
                    return true;
                } catch (error) {
                    this.log('âŒ éŸ³æ•ˆç³»ç»Ÿåˆå§‹åŒ–å¤±è´¥: ' + error.message, 'error');
                    return false;
                }
            }
            
            async generateBasicSFX() {
                if (!this.audioContext) return;
                
                const sampleRate = this.audioContext.sampleRate;
                
                // ğŸƒ å¡ç‰ŒéŸ³æ•ˆ
                this.sfxBuffers.set('card_draw', this.generateCardDrawSFX(sampleRate));
                this.sfxBuffers.set('card_place', this.generateCardPlaceSFX(sampleRate));
                this.sfxBuffers.set('card_hover', this.generateCardHoverSFX(sampleRate));
                this.sfxBuffers.set('card_select', this.generateCardSelectSFX(sampleRate));
                this.sfxBuffers.set('card_flip', this.generateCardFlipSFX(sampleRate));
                this.sfxBuffers.set('card_shuffle', this.generateCardShuffleSFX(sampleRate));
                this.sfxBuffers.set('card_activate', this.generateCardActivateSFX(sampleRate));
                
                // ğŸ® UIéŸ³æ•ˆ
                this.sfxBuffers.set('ui_button_click', this.generateButtonClickSFX(sampleRate));
                this.sfxBuffers.set('ui_button_hover', this.generateButtonHoverSFX(sampleRate));
                this.sfxBuffers.set('ui_confirm', this.generateConfirmSFX(sampleRate));
                this.sfxBuffers.set('ui_cancel', this.generateCancelSFX(sampleRate));
                this.sfxBuffers.set('ui_error', this.generateErrorSFX(sampleRate));
                this.sfxBuffers.set('ui_success', this.generateSuccessSFX(sampleRate));
                
                // âš”ï¸ æˆ˜æ–—éŸ³æ•ˆ
                this.sfxBuffers.set('battle_attack', this.generateAttackSFX(sampleRate));
                this.sfxBuffers.set('battle_damage', this.generateDamageSFX(sampleRate));
                this.sfxBuffers.set('battle_neutralize', this.generateNeutralizeSFX(sampleRate));
                this.sfxBuffers.set('battle_victory', this.generateVictorySFX(sampleRate));
                this.sfxBuffers.set('battle_defeat', this.generateDefeatSFX(sampleRate));
                
                // âš¡ ç¥ç…éŸ³æ•ˆ
                this.sfxBuffers.set('shensha_activate', this.generateShenshaActivateSFX(sampleRate));
                this.sfxBuffers.set('shensha_auspicious', this.generateAuspiciousSFX(sampleRate));
                this.sfxBuffers.set('shensha_inauspicious', this.generateInauspiciousSFX(sampleRate));
                this.sfxBuffers.set('shensha_special', this.generateSpecialSFX(sampleRate));
                
                // ğŸ”„ ç³»ç»ŸéŸ³æ•ˆ
                this.sfxBuffers.set('system_turn_start', this.generateTurnStartSFX(sampleRate));
                this.sfxBuffers.set('system_turn_end', this.generateTurnEndSFX(sampleRate));
                this.sfxBuffers.set('system_game_start', this.generateGameStartSFX(sampleRate));
                this.sfxBuffers.set('system_game_end', this.generateGameEndSFX(sampleRate));
                
                this.log(`ğŸ”Š å·²ç”Ÿæˆ ${this.sfxBuffers.size} ä¸ªéŸ³æ•ˆ`, 'info');
            }
            
            // ç®€åŒ–çš„éŸ³æ•ˆç”Ÿæˆæ–¹æ³•
            generateCardDrawSFX(sampleRate) {
                const duration = 0.3;
                const buffer = this.audioContext.createBuffer(1, duration * sampleRate, sampleRate);
                const data = buffer.getChannelData(0);
                
                for (let i = 0; i < data.length; i++) {
                    const t = i / sampleRate;
                    const noise = (Math.random() - 0.5) * 0.3;
                    const envelope = Math.exp(-t * 8);
                    const sweep = Math.sin(2 * Math.PI * (800 + t * 400) * t);
                    data[i] = (noise + sweep * 0.2) * envelope * 0.4;
                }
                
                return buffer;
            }
            
            generateCardPlaceSFX(sampleRate) {
                const duration = 0.2;
                const buffer = this.audioContext.createBuffer(1, duration * sampleRate, sampleRate);
                const data = buffer.getChannelData(0);
                
                for (let i = 0; i < data.length; i++) {
                    const t = i / sampleRate;
                    const impact = Math.sin(2 * Math.PI * 150 * t) * Math.exp(-t * 15);
                    const click = Math.sin(2 * Math.PI * 800 * t) * Math.exp(-t * 25);
                    data[i] = (impact + click * 0.3) * 0.5;
                }
                
                return buffer;
            }
            
            // ... å…¶ä»–éŸ³æ•ˆç”Ÿæˆæ–¹æ³•çš„ç®€åŒ–ç‰ˆæœ¬
            generateSimpleSFX(sampleRate, freq, duration, type = 'sine') {
                const buffer = this.audioContext.createBuffer(1, duration * sampleRate, sampleRate);
                const data = buffer.getChannelData(0);
                
                for (let i = 0; i < data.length; i++) {
                    const t = i / sampleRate;
                    let wave;
                    
                    switch (type) {
                        case 'noise':
                            wave = Math.random() - 0.5;
                            break;
                        case 'sawtooth':
                            wave = (2 * (t * freq % 1)) - 1;
                            break;
                        default:
                            wave = Math.sin(2 * Math.PI * freq * t);
                    }
                    
                    const envelope = Math.exp(-t * 5);
                    data[i] = wave * envelope * 0.3;
                }
                
                return buffer;
            }
            
            // ä½¿ç”¨ç®€åŒ–æ–¹æ³•ç”Ÿæˆå…¶ä»–éŸ³æ•ˆ
            generateCardHoverSFX(sampleRate) { return this.generateSimpleSFX(sampleRate, 600, 0.1); }
            generateCardSelectSFX(sampleRate) { return this.generateSimpleSFX(sampleRate, 1000, 0.15); }
            generateCardFlipSFX(sampleRate) { return this.generateSimpleSFX(sampleRate, 400, 0.25, 'sawtooth'); }
            generateCardShuffleSFX(sampleRate) { return this.generateSimpleSFX(sampleRate, 300, 0.8, 'noise'); }
            generateCardActivateSFX(sampleRate) { return this.generateSimpleSFX(sampleRate, 800, 0.5); }
            
            generateButtonClickSFX(sampleRate) { return this.generateSimpleSFX(sampleRate, 1200, 0.1); }
            generateButtonHoverSFX(sampleRate) { return this.generateSimpleSFX(sampleRate, 800, 0.08); }
            generateConfirmSFX(sampleRate) { return this.generateSimpleSFX(sampleRate, 600, 0.3); }
            generateCancelSFX(sampleRate) { return this.generateSimpleSFX(sampleRate, 400, 0.2); }
            generateErrorSFX(sampleRate) { return this.generateSimpleSFX(sampleRate, 300, 0.4, 'sawtooth'); }
            generateSuccessSFX(sampleRate) { return this.generateSimpleSFX(sampleRate, 523, 0.5); }
            
            generateAttackSFX(sampleRate) { return this.generateSimpleSFX(sampleRate, 80, 0.3, 'sawtooth'); }
            generateDamageSFX(sampleRate) { return this.generateSimpleSFX(sampleRate, 200, 0.4); }
            generateNeutralizeSFX(sampleRate) { return this.generateSimpleSFX(sampleRate, 400, 0.6); }
            generateVictorySFX(sampleRate) { return this.generateSimpleSFX(sampleRate, 523, 1.0); }
            generateDefeatSFX(sampleRate) { return this.generateSimpleSFX(sampleRate, 200, 0.8); }
            
            generateShenshaActivateSFX(sampleRate) { return this.generateSimpleSFX(sampleRate, 300, 0.7); }
            generateAuspiciousSFX(sampleRate) { return this.generateSimpleSFX(sampleRate, 440, 0.5); }
            generateInauspiciousSFX(sampleRate) { return this.generateSimpleSFX(sampleRate, 150, 0.5); }
            generateSpecialSFX(sampleRate) { return this.generateSimpleSFX(sampleRate, 500, 0.6); }
            
            generateTurnStartSFX(sampleRate) { return this.generateSimpleSFX(sampleRate, 880, 0.4); }
            generateTurnEndSFX(sampleRate) { return this.generateSimpleSFX(sampleRate, 660, 0.3); }
            generateGameStartSFX(sampleRate) { return this.generateSimpleSFX(sampleRate, 523, 1.2); }
            generateGameEndSFX(sampleRate) { return this.generateSimpleSFX(sampleRate, 440, 1.0); }
            
            playSFX(sfxName, volume = 1.0, pitch = 1.0) {
                if (!this.sfxEnabled || !this.audioContext) {
                    this.log('âš ï¸ éŸ³æ•ˆå·²ç¦ç”¨æˆ–æœªåˆå§‹åŒ–', 'warning');
                    return;
                }
                
                const buffer = this.sfxBuffers.get(sfxName);
                if (!buffer) {
                    this.log(`âŒ éŸ³æ•ˆ "${sfxName}" ä¸å­˜åœ¨`, 'error');
                    return;
                }
                
                try {
                    const source = this.audioContext.createBufferSource();
                    source.buffer = buffer;
                    
                    const gainNode = this.audioContext.createGain();
                    gainNode.gain.value = volume * this.sfxVolume;
                    
                    source.playbackRate.value = pitch;
                    
                    source.connect(gainNode);
                    gainNode.connect(this.audioContext.destination);
                    
                    source.start();
                    
                    this.log(`ğŸ”Š æ’­æ”¾éŸ³æ•ˆ "${sfxName}" (éŸ³é‡: ${(volume * this.sfxVolume * 100).toFixed(0)}%, éŸ³è°ƒ: ${pitch})`, 'success');
                    
                } catch (error) {
                    this.log(`âŒ æ’­æ”¾éŸ³æ•ˆ "${sfxName}" å¤±è´¥: ${error.message}`, 'error');
                }
            }
            
            setSFXVolume(volume) {
                this.sfxVolume = Math.max(0, Math.min(1, volume));
                this.log(`ğŸ”Š éŸ³æ•ˆéŸ³é‡è®¾ç½®ä¸º ${(this.sfxVolume * 100).toFixed(0)}%`, 'info');
            }
            
            toggleSFX() {
                this.sfxEnabled = !this.sfxEnabled;
                this.log(this.sfxEnabled ? 'ğŸ”Š éŸ³æ•ˆå·²å¼€å¯' : 'ğŸ”‡ éŸ³æ•ˆå·²å…³é—­', 'info');
                return this.sfxEnabled;
            }
            
            log(message, type = 'info') {
                const logContainer = document.getElementById('logContainer');
                const logEntry = document.createElement('div');
                logEntry.className = `log-entry ${type}`;
                logEntry.innerHTML = `<span style="color: #666;">[${new Date().toLocaleTimeString()}]</span> ${message}`;
                logContainer.appendChild(logEntry);
                logContainer.scrollTop = logContainer.scrollHeight;
                
                // æ›´æ–°çŠ¶æ€æ˜¾ç¤º
                const status = document.getElementById('status');
                status.innerHTML = `<strong>çŠ¶æ€:</strong> ${message}`;
                status.className = `status ${type}`;
            }
        }
        
        // å…¨å±€éŸ³æ•ˆç®¡ç†å™¨å®ä¾‹
        let sfxManager = new SimpleSFXManager();
        
        // åˆå§‹åŒ–éŸ³æ•ˆç³»ç»Ÿ
        async function initSFXSystem() {
            const success = await sfxManager.init();
            if (success) {
                document.getElementById('status').innerHTML = '<strong>çŠ¶æ€:</strong> âœ… éŸ³æ•ˆç³»ç»Ÿå·²å°±ç»ªï¼Œå¯ä»¥å¼€å§‹æµ‹è¯•';
                document.getElementById('status').className = 'status success';
            }
        }
        
        // æ’­æ”¾æŒ‡å®šéŸ³æ•ˆ
        function playSFX(sfxName) {
            sfxManager.playSFX(sfxName);
        }
        
        // åˆ‡æ¢éŸ³æ•ˆå¼€å…³
        function toggleSFX() {
            const isEnabled = sfxManager.toggleSFX();
            document.getElementById('status').innerHTML = `<strong>çŠ¶æ€:</strong> ${isEnabled ? 'ğŸ”Š éŸ³æ•ˆå·²å¼€å¯' : 'ğŸ”‡ éŸ³æ•ˆå·²å…³é—­'}`;
            document.getElementById('status').className = `status ${isEnabled ? 'success' : 'error'}`;
        }
        
        // è®¾ç½®éŸ³é‡
        function setVolume(value) {
            const volume = value / 100;
            sfxManager.setSFXVolume(volume);
            document.getElementById('volumeLabel').textContent = `${value}%`;
        }
        
        // éšæœºæµ‹è¯•éŸ³æ•ˆ
        function testRandomSFX() {
            const allSFX = Array.from(sfxManager.sfxBuffers.keys());
            if (allSFX.length === 0) {
                sfxManager.log('âŒ æ²¡æœ‰å¯ç”¨çš„éŸ³æ•ˆï¼Œè¯·å…ˆåˆå§‹åŒ–éŸ³æ•ˆç³»ç»Ÿ', 'error');
                return;
            }
            
            const randomSFX = allSFX[Math.floor(Math.random() * allSFX.length)];
            const randomVolume = 0.5 + Math.random() * 0.5; // 50%-100%éŸ³é‡
            const randomPitch = 0.8 + Math.random() * 0.4; // 0.8-1.2éŸ³è°ƒ
            
            sfxManager.playSFX(randomSFX, randomVolume, randomPitch);
        }
        
        // æ¸…ç©ºæ—¥å¿—
        function clearLog() {
            document.getElementById('logContainer').innerHTML = '<div class="log-entry info">ğŸ”Š æ—¥å¿—å·²æ¸…ç©º</div>';
        }
        
        // åºåˆ—æµ‹è¯•å‡½æ•°
        function testCardSequence() {
            const sequence = ['card_draw', 'card_hover', 'card_select', 'card_place', 'card_activate'];
            let index = 0;
            
            function playNext() {
                if (index < sequence.length) {
                    sfxManager.playSFX(sequence[index]);
                    index++;
                    setTimeout(playNext, 600);
                }
            }
            
            sfxManager.log('ğŸ´ å¼€å§‹å¡ç‰Œåºåˆ—æµ‹è¯•...', 'info');
            playNext();
        }
        
        function testBattleSequence() {
            const sequence = ['battle_attack', 'battle_damage', 'battle_neutralize'];
            let index = 0;
            
            function playNext() {
                if (index < sequence.length) {
                    sfxManager.playSFX(sequence[index]);
                    index++;
                    setTimeout(playNext, 800);
                } else {
                    setTimeout(() => sfxManager.playSFX('battle_victory'), 1000);
                }
            }
            
            sfxManager.log('âš”ï¸ å¼€å§‹æˆ˜æ–—åºåˆ—æµ‹è¯•...', 'info');
            playNext();
        }
        
        function testUISequence() {
            const sequence = ['ui_button_hover', 'ui_button_click', 'ui_confirm', 'ui_success'];
            let index = 0;
            
            function playNext() {
                if (index < sequence.length) {
                    sfxManager.playSFX(sequence[index]);
                    index++;
                    setTimeout(playNext, 500);
                }
            }
            
            sfxManager.log('ğŸ® å¼€å§‹UIåºåˆ—æµ‹è¯•...', 'info');
            playNext();
        }
        
        function testShenshaSequence() {
            const sequence = ['shensha_activate', 'shensha_auspicious', 'shensha_inauspicious', 'shensha_special'];
            let index = 0;
            
            function playNext() {
                if (index < sequence.length) {
                    sfxManager.playSFX(sequence[index]);
                    index++;
                    setTimeout(playNext, 1000);
                }
            }
            
            sfxManager.log('âš¡ å¼€å§‹ç¥ç…åºåˆ—æµ‹è¯•...', 'info');
            playNext();
        }
        
        // é¡µé¢åŠ è½½å®Œæˆåè‡ªåŠ¨åˆå§‹åŒ–
        window.addEventListener('load', () => {
            sfxManager.log('ğŸ® L-Zore éŸ³æ•ˆç³»ç»Ÿæ¼”ç¤ºé¡µé¢åŠ è½½å®Œæˆ', 'info');
            sfxManager.log('ğŸ’¡ ç‚¹å‡»"ğŸµ åˆå§‹åŒ–éŸ³æ•ˆç³»ç»Ÿ"å¼€å§‹ä½“éªŒæ‰€æœ‰éŸ³æ•ˆ', 'info');
        });
    </script>
</body>
</html> 